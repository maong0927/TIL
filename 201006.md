# 201006

- [x]  ORM

`ORM` : OOP를 사용하는데 제약을 받지 않고 RDBMS 를 사용하기 위한 프레임워크이다. 

ex) 스키마(Schema) 를 매핑하고, 메소드(Method)로 쿼리(Query)를 작성하면 개체로 이뤄진 테이블을 가져올 수 있다. 

ORM의 장점 : 

1. 별도 SQL 을 사용하지 않고 OOP 언어 그대로를 사용할 수 있다. 
2. DBMS에 대한 종속성을 줄일 수 있다. 

ORM의 단점 : 

1. 직접 SQL을 사용하는 것보다 복잡할 수 있다. (자동으로 생성되는 query 때문 )
2. 속도나 생산성이 저하될 수 있다. 

`Sequelize` : 자바스크립트 객체와 데이터베이스의 릴레이션(테이블)을 매핑해주는 도구이다. 

- MySql `테이블`은 시퀄라이즈의 `모델`과 대응된다. → 시퀄라이즈는 모델과 Mysql의 테이블을 연결해 주는 역할을 한다.
- 시퀄라이즈는 기본적으로 모델 이름은 `단수형`으로, 테이블 이름은 `복수형`으로 사용한다.
- 시퀄라이즈는 알아서 id를 기본키로 연결하므로 id 컬럼은 적어줄 필요 없다. sequelize.define 메서드로 테이블명과 각 컬럼의 스펙을 입력하는데, MySQL 테이블과 컬럼 내용이 일치해야 정확하게 대응된다.

`index`

DB 인덱스를 효과적으로 설정하는 방법

인덱스로 데이터의 위치를 빠르게 찾아준다. **WHERE 절에서 효과 나타남**. 

ex) `학생` 테이블에 '학번','이름','전화번호'가 있다고 가정. 

인덱스는 '학번', '전화번호'에 걸려 있음. 다음중 인덱스가 영향을 주는 쿼리는?

- 1번) `SELECT '학번' FROM '학생';`
- 2번) `SELECT '전화번호' FROM '학생' WHERE '이름' = "김철수";`
- 3번) `SELECT * FROM '학생' WHERE '학번' = 1;`

→ 답은 3번! 

인덱스는 데이터베이스 메모리를 사용하여 테이블 형태로 저장되므로 개수와 저장공간이 비례. 

따라서, 조회시 자주 사용하고 고유한 값 위주로 인덱스를 설정하는 것이 좋음. 

`카디널리티`가 높을수록 ,  `선택도`가 낮을수록, `활용도`가 높을수록 (Where 절에서 자주 사용되는지 ), `중복도`가 없을수록 ( 같은 컬럼에 대해 인덱스가 중복으로 생성될 수 있음. ) 인덱스로 설정하기 좋은 컬럼임! 

sequelize 환경변수 관리 및 CLI 명령어 관리하기 

config/config.json 파일을 config.js 로 바꿔주면 된다. 

[JSON.stringify() 와 JSON.parse() 의 차이](https://yangeok.github.io/node.js/2019/06/11/sequelizerc.html)

async, await, promise error handle?

index 같은값 btree? 

`릴레이션 (relation)`

→ 같은 성격의 데이터들의 집합을 의미, 흔히 테이블이라고 말하는 용어와 같음. 

릴레이션은 튜플과 에트리뷰트로 데이터를 정렬하여 관리한다. 

`튜플(tuple)`

→ 릴레이션의 각 행을 의미 = record, row

`에트리뷰트(attribute)`

→ 릴레이션에서 이름을 가진 하나의 열을 말한다. = 칼럼 

`디그리(degree)`

→ 애트리뷰트의 수 

`카디널리티(cardinality)`

→ 튜플들의 수 

→ 공부해야할 것 

[[MySQL] B-Tree 인덱스](https://12bme.tistory.com/138)